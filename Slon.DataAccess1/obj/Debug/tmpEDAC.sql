CREATE TABLE [dbo].[Categories] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max) NOT NULL,
    [Img] [nvarchar](max) NOT NULL,
    [DisplayOrder] [int] NOT NULL,
    [ParentCategoryId] [int],
    CONSTRAINT [PK_dbo.Categories] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ParentCategoryId] ON [dbo].[Categories]([ParentCategoryId])
CREATE TABLE [dbo].[Items] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max) NOT NULL,
    [Description] [nvarchar](max) NOT NULL,
    [Img] [nvarchar](max) NOT NULL,
    [Price] [decimal](18, 2) NOT NULL,
    [IsAvailable] [bit] NOT NULL,
    [CategoryId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Items] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_CategoryId] ON [dbo].[Items]([CategoryId])
CREATE TABLE [dbo].[ItemOrders] (
    [ItemId] [int] NOT NULL,
    [OrderId] [int] NOT NULL,
    [Countt] [decimal](18, 2) NOT NULL,
    [Price] [decimal](18, 2) NOT NULL,
    CONSTRAINT [PK_dbo.ItemOrders] PRIMARY KEY ([ItemId], [OrderId])
)
CREATE INDEX [IX_ItemId] ON [dbo].[ItemOrders]([ItemId])
CREATE INDEX [IX_OrderId] ON [dbo].[ItemOrders]([OrderId])
CREATE TABLE [dbo].[Orders] (
    [Id] [int] NOT NULL IDENTITY,
    [Number] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Orders] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[Categories] ADD CONSTRAINT [FK_dbo.Categories_dbo.Categories_ParentCategoryId] FOREIGN KEY ([ParentCategoryId]) REFERENCES [dbo].[Categories] ([Id])
ALTER TABLE [dbo].[Items] ADD CONSTRAINT [FK_dbo.Items_dbo.Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [dbo].[Categories] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ItemOrders] ADD CONSTRAINT [FK_dbo.ItemOrders_dbo.Items_ItemId] FOREIGN KEY ([ItemId]) REFERENCES [dbo].[Items] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ItemOrders] ADD CONSTRAINT [FK_dbo.ItemOrders_dbo.Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [dbo].[Orders] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201605021428314_Initial', N'Slon.DataAccess.Migrations.Configuration',  0x1F8B0800000000000400ED5CDD6EDB3614BE1FB0771074B50DA995A4375D60B748ED6430D6FC204E8ADD058C443BC4244A13A9C0C6B027DBC51E69AF3052FF144989B25DC5EB86024542F2FCF0F0E339473CA7FDFBCFBFC61FD6816FBDC098A0104FEC93D1B16D41EC861EC2AB899DD0E59B77F687F7DF7E33BEF082B5F5B958F796AF6394984CEC674AA333C721EE330C001905C88D43122EE9C80D030778A1737A7CFCA37372E240C6C266BC2C6B7C97608A0298FEC27E9D86D885114D807F157AD027F9389B59A45CAD6B10401201174EEC851FE2D10C5070EEBA9010DB3AF711606A2CA0BFB42D80714801654A9E3D10B8A07188578B880D00FF7E1341B66E097C0273E5CFAAE5A6FB383EE5FB702AC282959B101A063D199EBCCD0DE334C9B732AF5D1A8E99EE8299986EF8AE53F34DEC29A07015C61BDB6A0A3B9BFA315F985B373D8451B1FCC8AA068F4A0830A4F03F47D634F16912C30986098D015B719B3CF9C8FD196EEEC35F219EE0C4F7EB7A31CDD89C30C0866EE3308231DDDCC165AEEDDCB32D47A4739A8425598D26DBC71CD3B7A7B675CD8483271F96C75EDBF3828631FC096218B38D7AB780521863CE03A68693A43764F1BF0B690C67ECBED8D615587F8278459F2736FBD1B62ED11A7AC548AEC10346EC7A31221A2750A161BBD479B01A5EE80C91C8079B9BD883719781DB39DD829859B74096745C0DE26BF08256E96135AD4061C06EFE1DF4D359F28CA2CC018CF8CC6305F4CB380CEE423F2729271EEF41BC8294490F55B38B30895D792F5A75C45D29F52A7937D7561A6A9694DA14BAEAD6157BAA6B3D762A2FD0EA1BB8010CFD025FFABF4F38209F3083C48D5194458DFF8443BA8D915B1A7A065D1400DFB66E63F6539EC7BCB3AD850B38C3FE4E6A4ECE5F004A290A191F4376F500EECD4AEBE9BAF8687D4DAB9731F47E4D8FA2F68D7D9C711E1A342AA5B38F998B1175AA66942EB936ADF2C9BDBC5BAEA2B18B4BD7BF969F63F2655FA75C9AAAB9955FCC65EC12CE4BE1BB309986EC63807EB1DBBC675FD17A0D76BB01AA6BA9B820A60AE9EF64C5345F53A9D498926E65737EA76BD9E74ABEEA753CF4B423099E7A67E65BFAF31ED869E259872D13EC9C1312BA2855A6A66615EBC4BD5D60CF6A0D7C19BA8ADBC95216861C1431AC30D113FB07C9583A86E5F5A81856E157647A623781768367D087145AE76EF6603005C4059E7C54CC269E38C2B00979F28F803F65C7C3D08E3095818CB08B22E0B7A9DE2032C43F57AA64DF9C99C108620EDDB63330915BCF9E64F9A59886B1BA6C33766A60EAC658CD75B76142E5C74594E5F7A51FD45409523B780F0367B2DE03014D3E0723C1BA846B0894355DAA0E0F5AFF5A014289B1BD2242AF8E069F86B0DF0A691A8B0C0035CDE64D246B32F681C0A67B88D29D72E7AB5477E46BF3715D8F5906EC8F47A393FDC0A943990160D5616D130DE427D6017096256D8C86320A18E7AAF0647DF6918FC23555E4F90F04E6A93EC91F829A30E15C17908AD84590D85695264AF090C02672C91F8F2506593035204E2FB08E43EEEE3AD86859A8C96B561755A93DF6D4D6285F839A20E8CA914B954B8B4938EACA8A6B2CEA47D78C31E2EE0C775EFFA2566F5D97B899A46E8DCD17C7D5610145B2D665C52D762F7D81C9DB6FCD288C728A9ADE069BD7A5024666DCC204DA6A8A6C0AA378D72BE219A1BA5790DBF59E141FCDA5FFADEAE74E56402F0AED8EA6D23EBE025184F0AA5679CF47AC4556769FBE59F42F4907190FC7258ACA74A96D2989863158C1C62C7F20F4E0258A09E555FF27C0DF32A65E202D13A38DC6FF16B2A480229F5EE1990B12FE7315D76A2D08231DA82A2B5EB28D053CCCA72F3DF2792B482DDEFC007C102B1E96A6A19F04589F71E8A9B30A559D3E1B31E790167C0405F88039BD584CAE331267CC39CA194F9D6B773EC4EF45E39CA48C498283F49D2402CC087E5944D80579AAE866803A35D9A1224EA86F0A80A94F0C87E0BCA220802C1BEAA143BDC628E8529F30E7A743FFC1E23ECF057605BF32BF31BC011A5AED91E56F44C26969DE8DF45CCAAFFF3A1BED9340CB81E75533E1B0F3B12F03E55702CB1E80B22D48FA0264373F991771044F998F0D7C18523ED95C524A2FF3CA46FE38CE73B9EE764E29B9CB96F00A6DF882BC34B1DB1076CDD2031D2D7EF3A73E62FBAD165C018C9690D0ACC6679F1E9F9C369A420FA741D321C4F315B9B0AA4B533CAF010A95885BB5B314D9B3FC5E6F89C22F20769F41FC5D00D6DFEFD269B41B23553B63BAF73D3533A6BCA4C7AE39F6E07A62FF9E129F59F35F1E9BF44756AAD299756CFD5157266B91DABEADEF7F2075F6CB1D0832855E156F80BEB627D41FF6DB03BE1BEA0A05B668F2DA06F083775C991A2DA3EA61305970A34DCB54724EB69368B1B96BEF90DEE785E9D9B6F4957855A175A83B0AEEBB3FA77ABA1DBA85467CBADFA22768A712E350ED105F5D9FCDB0FD2F8AFACEA00D0EC647B8AFCE99AFAC5BE6D59A635E072E3D8E7048BCFC3B3B5EB66F3E917965EF105BF5CA1C7C9811F66822EF803A54E4D2A2E64D52FAD7372DFD27D90B16CB479F4276E6592AD552D755B59868DB5354BCD58D05DACE95F6C6159D004DED5ED9D8A2EF6B5171D770FEB23D2FCD83148BB15D8D1E5267C3E135B574AAA80B57CA22C92176ADC84D2AAFBCC541BA52FA03568C4106D4FBE934912B00CC7BD7FEDB071647085A552CF87F0281A12BF8ED72CD1C2FC3229034342A96343E6CAF20051E2F01C5142D814BD934AF05A5FF40F533F013B6E4827DFA7A737C93D028A16CCB3078F20563F030D4263F6DA711751EDFA4EF8A641F5B606A22B60578833F26C8F74ABD2F159FE51A163CBEE5AF05FC2C297F35586D4A4ED7213664949BAF0CCBF730887CC68CDCE0057881DBE8F640E027B802EEA628E4E899741F8468F6F10C81550C0292F3A8E8D9AF0CC35EB07EFF0F696DAD14FD440000 , N'6.1.3-40302')

